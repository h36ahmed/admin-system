---
name: plan
url: /plan/:id
---
<div class="vertical grid-frame">
    <div class="grid-content shrink" style="padding: 0;">
        <div ng-include="'/templates/partials/menu_bar.html'"></div>
    </div>
    <div ng-include="'/templates/partials/side_bar.html'"></div>
    <div class="ls-app-body">
       <div class="grid-block ls-back-bar">
            <div class="grid-block small-12 vertical">
                <div class="grid-content">
                    <p><a ui-sref="payment-plans"><i class="fa fa-angle-left" aria-hidden="true"></i> Back to Payment Plans</a></p>
                </div>
            </div>
        </div>
        <div class="grid-container ls-edit-pages" ng-controller="editPaymentPlanCtrl as editPaymentPlan">
            <div class="grid-block ls-title-bar">
                <div class="grid-block small-8 vertical">
                    <div class="grid-content">
                        <h2>Edit Payment Plan Information</h2>
                    </div>
                </div>
                <div class="grid-block small-4 vertical">
                    <div class="grid-content text-right">
                    </div>
                </div>
            </div>
            <div class="grid-block">
                <div class="grid-block small-12 vertical">
                    <div class="grid-content">
                        <form class="ls-form ls-edit-form" name="editPaymentPlanForm" ng-submit="submitEditForm(editPaymentPlanForm.$valid)" novalidate>
                            <div class="grid-block">
                                <div class="small-12 medium-6 grid-content">
                                    <div class="ls-form-group" ng-class="{ 'ls-has-error' : editPaymentPlanForm.planName.$invalid && !editPaymentPlanForm.planName.$pristine }">
                                        <label for="planName">
                                            Name
                                            <input type="text" placeholder="Payment Plan Name" class="ls-input-fields" name="planName" id="planName" ng-model="paymentPlanFormData.name" required>
                                        </label>
                                        <p ng-show="editPaymentPlanForm.planName.$invalid && !editPaymentPlanForm.planName.$pristine" class="ls-help-block">Enter a valid payment plan name.</p>
                                    </div>
                                    <div class="ls-form-group" ng-class="{ 'ls-has-error' : editPaymentPlanForm.planDesc.$invalid && !editPaymentPlanForm.planDesc.$pristine }">
                                        <label for="planDesc">
                                            Description
                                            <textarea name="planDesc" id="planDesc" cols="30" rows="8" placeholder="Description" class="ls-input-fields" ng-model="paymentPlanFormData.description" required></textarea>
                                        </label>
                                        <p ng-show="editPaymentPlanForm.planDesc.$invalid && !editPaymentPlanForm.planDesc.$pristine" class="ls-help-block">Enter a valid payment plan description.</p>
                                    </div>
                                    <div class="ls-form-group" ng-class="{ 'ls-has-error' : editPaymentPlanForm.planPrice.$invalid && !editPaymentPlanForm.planPrice.$pristine }">
                                        <label for="planPrice">
                                            Price
                                            <input type="number" placeholder="e.g. 9.99" class="ls-input-fields" name="planPrice" id="planPrice" ng-model="paymentPlanFormData.price" step="0.01" required>
                                        </label>
                                        <p ng-show="editPaymentPlanForm.planPrice.$invalid && !editPaymentPlanForm.planPrice.$pristine" class="ls-help-block">Enter a valid payment plan price.</p>
                                    </div>
                                </div>
                                <div class="small-12 medium-6 grid-content">
                                    <div class="ls-form-group" ng-class="{ 'ls-has-error' : editPaymentPlanForm.numMeals.$invalid && !editPaymentPlanForm.numMeals.$pristine }">
                                        <label for="numMeals">
                                            Number of Meals
                                            <input type="number" placeholder="e.g. 20" class="ls-input-fields" name="numMeals" id="numMeals" ng-model="paymentPlanFormData.num_meals" step="1" required>
                                        </label>
                                        <p ng-show="editPaymentPlanForm.numMeals.$invalid && !editPaymentPlanForm.numMeals.$pristine" class="ls-help-block">Enter a valid number of meals for the payment plan.</p>
                                    </div>
                                    <div class="ls-form-group" ng-class="{ 'ls-has-error' : editPaymentPlanForm.planImage.$invalid && !editPaymentPlanForm.planImage.$pristine }">
                                        <label for="planImage">
                                            Icon Image <br>
                                            <input type="hidden" value="{{paymentPlanFormData.image}}" name="planImage" id="planImage" required/>
                                            <input type="file" ngf-select  ng-model="paymentPlanFormData.image_file" ngf-pattern="'image/*'" ngf-accept="'image/*'" ngf-max-size="20MB">
                                            <img ngf-src="paymentPlanFormData.image_file || 'https://s3.ca-central-1.amazonaws.com/ls-frontend/misc/' + paymentPlanFormData.image" ng-if="paymentPlanFormData.image != ''">
                                            <img ngf-src="paymentPlanFormData.image_file || '/assets/img/lunchsociety-thumb.png'" ng-if="paymentPlanFormData.image == ''">
                                        </label>
                                        <p ng-show="editPaymentPlanForm.planImage.$invalid && !editPaymentPlanForm.planImage.$pristine" class="ls-help-block">Choose image file for the icon.</p>
                                    </div>
                                    <div class="ls-switch-container">
                                        <div class="large switch">
                                            <input type="checkbox" id="planStatus" name="planStatus" ng-model="paymentPlanFormData.status">
                                            <label for="planStatus"></label>
                                        </div>
                                        <p>Payment Plan Status</p>
                                    </div>
                                </div>
                            </div>
                            <div class="grid-block">
                                <div class="small-6 grid-content text-right">
                                </div>
                                <div class="small-6 grid-content text-right">
                                    <input type="submit" class="button" name="update" value="Update Plan Information" ng-disabled="editPaymentPlanForm.$invalid">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
           </div>
        </div>
    </div>
</div>
